<!--
 *  Personal Site: My humble personal homepage, made with a tiny bit but not much care.
 *  <https://github.com/MattIPv4/Personal-Site/>
 *  Copyright (C) 2023 Matt Cowley (MattIPv4) (me@mattcowley.co.uk)
 *
 *  This program is free software: you can redistribute it and/or modify
 *   it under the terms of the GNU General Public License as published
 *   by the Free Software Foundation, either version 3 of the License, or
 *   (at your option) any later version.
 *  This program is distributed in the hope that it will be useful,
 *   but WITHOUT ANY WARRANTY; without even the implied warranty of
 *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *   GNU General Public License for more details.
 *  You should have received a copy of the GNU General Public License
 *   along with this program. If not, please see
 *   <https://github.com/MattIPv4/Personal-Site/blob/master/LICENSE.md> or <http://www.gnu.org/licenses/>.
-->

<details
    class="project"
    id="project-{{ slug }}"
    data-show-web="{{ web ?? true }}"
    data-show-print="{{ print ?? true }}"
>
    <summary class="project-info">
        <div class="project-meta">
            <p class="project-role">{{ role }}</p>
            <p class="project-title">{{ title }}</p>

            <div class="project-dates">
                <p class="project-start">{{ dates.start }}</p>
                <if condition="dates.start !== dates.end">
                    <if condition="dates.end === null">
                        <p class="project-end active">&nbsp;-&nbsp;Present</p>
                    </if>
                    <else>
                        <p class="project-end">&nbsp;-&nbsp;{{ dates.end }}</p>
                    </else>
                </if>
                <if condition="dates.other">
                    <each loop="item in dates.other">
                        <p class="project-start">, {{ item.start }}</p>
                        <p class="project-end">&nbsp;-&nbsp;{{ item.end }}</p>
                    </each>
                </if>
            </div>

            <div class="project-tags">
                <each loop="item in tags">
                    <p class="project-tag">{{ item }}</p>
                </each>
            </div>

            <div class="project-details">
                <p class="project-headline">{{{ headline }}}</p>
                <p class="project-link">
                    <each loop="item, index in links">
                        <if condition="index !== 0">
                            <span>&nbsp;/&nbsp;</span>
                        </if>
                        <a href="{{ item }}" target="_blank" rel="noopener">
                            {{ item }}
                        </a>
                    </each>
                </p>
            </div>
        </div>

        <div class="project-img">
            <img src="projects/{{ image.file }}.webp"
                 onerror="this.onerror=null; this.src='projects/{{ image.file }}.png'"
                 alt="{{ title }}"
                 style="object-position: {{ image.position }} center;"
                 loading="lazy"
                 height="160"
                 width="284"
            />
        </div>
    </summary>

    <div class="project-desc">
        {{{ desc }}}
    </div>
</details>
